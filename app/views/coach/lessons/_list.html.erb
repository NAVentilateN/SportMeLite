<div class='container' data-controller='lesson' data-lesson-target='list'>

  <div class='flex-space-between'>
    <h1 class='header'>Coach Lessons</h1>
    <%= link_to 'New Lesson', new_coach_lesson_path, class:"btn btn-flat", data: { target: '#newLessonModal', toggle: 'modal'}  %>
  </div>

  <%= render 'calendar'%>
  
  <div class='lesson-header-links'>
    <%= link_to 'All', coach_lessons_path, class:"lesson-header-link active", data: { action: 'click->lesson#displayLessons'}, remote: true %>
    <%= link_to 'Upcoming', upcoming_coach_lessons_path, class:"lesson-header-link", data: { action: 'click->lesson#displayLessons'}, remote: true  %>
    <%= link_to 'History', history_coach_lessons_path, class:"lesson-header-link", data: { action: 'click->lesson#displayLessons'}, remote: true  %>
  </div>

  <%= render 'lessons_list'%>

  <%# lesson modal %>
  <div class="modal fade" id="lessonModal"  tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true" data-lesson-target='lessonModal'>
    <div class="modal-dialog" role="document" data-lesson-target='modalContent'></div>
  </div>

  <%# new lesson modal %>
  <%= simple_form_for(@lesson, method: :post, url: :coach_lessons, remote: true) do |f|%>
 <div class="modal fade" id="newLessonModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newLessonModal">New Lesson</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <%= f.input :start_date_time, :as => :datetime, html5: true %>
            <%= f.input :end_date_time, :as => :datetime, html5: true %>
            <%= f.input :description %>
            <%= f.association :location %>
            <%= f.input :price, as: :numeric %>
            <%= f.label :sync_to_google do %>
              <%= f.check_box :sync_to_google %><span>Add to Google Calendar</span>
            <% end %>          
            <%= f.submit class:'btn btn-primary float-right' %>
        <% end %>
          </div>
        </div>
      </div>
    </div>

  </div>

